<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ARISE SYSTEM</title>

<style>
body{margin:0;background:#000;color:#7ef9ff;text-align:center;font-family:serif}
.card{margin:20px;padding:20px;border:1px solid cyan;border-radius:12px}
.quest{margin:10px;padding:12px;border:1px solid cyan;border-radius:10px}
.complete{background:#021b12;color:#00ff9c}
button{margin:3px;padding:6px 14px;border:none;border-radius:8px;background:cyan;font-weight:bold}
.timer{display:block;font-size:14px;color:#ffd}
#levelup{position:fixed;top:0;left:0;width:100%;height:100%;display:none;
align-items:center;justify-content:center;background:black;font-size:50px;color:cyan}
</style>
</head>
<body>

<div id="levelup">LEVEL UP</div>

<h1>ARISE SYSTEM</h1>

<div class="card">
LEVEL <span id="level"></span><br>
XP <span id="xp"></span>/100<br>
Rank <span id="rank"></span><br>
Streak <span id="streak"></span>
</div>

<div class="card">
STR <span id="str"></span> |
INT <span id="int"></span> |
FOC <span id="foc"></span>
</div>

<div class="card">
<h2>Quests</h2>
<div id="quests"></div>
</div>

<div class="card">
Event: <span id="event"></span>
</div>

<script>

const today=new Date().toDateString();

let data=JSON.parse(localStorage.getItem("ariseData"))||{
date:today,xp:0,level:1,str:1,int:1,foc:1,streak:0,
quests:[],
event:null,
specialDone:[]
};

function save(){localStorage.setItem("ariseData",JSON.stringify(data));}

function rank(l){
if(l<5)return"E";
if(l<10)return"D";
if(l<20)return"C";
if(l<30)return"B";
if(l<40)return"A";
if(l<50)return"S";
if(l<75)return"SS";
if(l<100)return"SSS";
return"MONARCH";
}

// ---------- GENERATE DAILY QUESTS ----------
function generate(){
data.quests=[
{t:"Strength Training",stat:"str",remaining:1200000,started:false,done:false},
{t:"Brain Training",stat:"foc",remaining:1800000,started:false,done:false},
{t:"Skill Learning",stat:"int",remaining:3600000,started:false,done:false},
{t:"Strategy Thinking",stat:"int",remaining:2400000,started:false,done:false},
{t:"Problem Solving",stat:"foc",remaining:1500000,started:false,done:false}
];
data.event=null;
}

// ---------- PENALTY ----------
function penalty(){
let missed=data.quests.filter(q=>!q.done);
if(missed.length>0){
data.event="âš  PUNISHMENT DUNGEON";
missed.forEach((q,i)=>{
data.quests.push({
t:"Penalty Training "+(i+1),
stat:"str",
remaining:1500000,
started:false,
done:false
});
});
data.streak=0;
}
}

// ---------- SPECIAL QUESTS ----------
const specialLevels=[5,10,25,50,75,100];

function specialQuest(){
if(specialLevels.includes(data.level) && !data.specialDone.includes(data.level)){

data.specialDone.push(data.level);

data.quests.push({
t:"â­ SURPRISE QUEST â€” Elite Trial",
stat:"int",
remaining:1800000,
started:false,
done:false
});

data.event="ðŸ”¥ SPECIAL QUEST UNLOCKED!";
}
}

// ---------- NEW DAY ----------
if(data.date!==today){
penalty();
data.date=today;
data.streak++;
generate();
}

if(data.quests.length===0) generate();

// ---------- LEVEL UP ----------
function levelUp(){
data.level++;
data.xp=0;

document.getElementById("levelup").style.display="flex";
setTimeout(()=>levelup.style.display="none",2000);

specialQuest();
save();
}

// ---------- TIMER ----------
setInterval(()=>{
data.quests.forEach(q=>{
if(q.started && !q.done){
q.remaining-=1000;
if(q.remaining<0)q.remaining=0;
}
});
save();
render();
},1000);

// ---------- CONTROLS ----------
function start(i){let q=data.quests[i];if(!q.done)q.started=true;}
function pause(i){data.quests[i].started=false;}

function done(i){
let q=data.quests[i];
if(q.remaining>0){alert("Timer not finished");return;}
q.done=true;q.started=false;

data.xp+=25;
data[q.stat]+=1;

if(data.xp>=100)levelUp();

save();
}

// ---------- RENDER ----------
function renderQuests(){
let h="";
data.quests.forEach((q,i)=>{
let m=Math.floor(q.remaining/60000);
let s=Math.floor((q.remaining%60000)/1000);

h+=`<div class="quest ${q.done?"complete":""}">
${q.t}
<span class="timer">${m}m ${s}s</span>
<button onclick="start(${i})"${q.started||q.done?"disabled":""}>START</button>
<button onclick="pause(${i})"${!q.started||q.done?"disabled":""}>PAUSE</button>
<button onclick="done(${i})"${q.remaining>0||q.done?"disabled":""}>DONE</button>
</div>`;
});
quests.innerHTML=h;
}

function render(){
level.textContent=data.level;
xp.textContent=data.xp;
str.textContent=data.str;
int.textContent=data.int;
foc.textContent=data.foc;
streak.textContent=data.streak;
rank.textContent=rank(data.level);
event.textContent=data.event||"None";
renderQuests();
}

render();
</script>
</body>
</html>
