<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1">

<!-- SOLO LEVELING STYLE FONT -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<title>ARISE SYSTEM</title>

<style>
body{
background:black;
color:#00fff7;
font-family:'Orbitron',sans-serif;
text-align:center;
}

.box{
border:2px solid #00fff7;
border-radius:20px;
margin:20px;
padding:20px;
box-shadow:0 0 20px #00fff7;
}

button{
margin:5px;
padding:8px 15px;
border:none;
border-radius:10px;
background:#00fff7;
color:black;
font-weight:bold;
}

#levelUp{
position:fixed;
top:40%;
left:50%;
transform:translate(-50%,-50%) scale(0);
font-size:45px;
color:gold;
transition:.4s;
}

.stat{
margin:5px;
font-size:18px;
}
</style>
</head>
<body>

<h1>ARISE SYSTEM</h1>

<h2 id="rank"></h2>
<h3>Level <span id="level"></span> | XP <span id="xp"></span></h3>

<div class="box">
<h3>STATS</h3>
<div class="stat">STR âš” <span id="str"></span></div>
<div class="stat">INT ðŸ§  <span id="int"></span></div>
<div class="stat">FOC ðŸŽ¯ <span id="foc"></span></div>
<div class="stat">Streak ðŸ”¥ <span id="streak"></span></div>
</div>

<button onclick="enableNotify()">Enable Notifications</button>

<div class="box">
<h2>Daily Quests</h2>
<div id="daily"></div>
</div>

<div class="box">
<h2>Special Quests</h2>
<div id="special"></div>
</div>

<div class="box">
<h2>Penalty Quests</h2>
<div id="penalty"></div>
</div>

<div id="levelUp">LEVEL UP!</div>

<script>

// ================= SAVE DATA =================

let data=JSON.parse(localStorage.arise||"{}");

if(!data.level){
data={
level:1,xp:0,str:0,int:0,foc:0,
streak:0,lastDay:null,
missed:false
};
}

// ================= QUEST LIST =================

const daily={
"Exercise":{time:120,xp:20,stat:"str"},
"Deep Thinking":{time:180,xp:30,stat:"foc"},
"Learn Skill":{time:300,xp:50,stat:"int"},
"Strategy Thinking":{time:240,xp:40,stat:"int"},
"Problem Solving":{time:180,xp:30,stat:"foc"}
};

const special={
"Meditate":{time:600,xp:120,stat:"foc",unlock:3},
"Read Book":{time:900,xp:150,stat:"int",unlock:5},
"Workout+":{time:300,xp:100,stat:"str",unlock:7}
};

const penalty={
"Extra Pushups":{time:120,xp:0,stat:"str"},
"Focus Training":{time:180,xp:0,stat:"foc"}
};

// ================= RANK SYSTEM =================

function rank(){
let l=data.level;
if(l<10)return"E Rank";
if(l<35)return"D Rank";
if(l<50)return"C Rank";
if(l<75)return"B Rank";
if(l<100)return"A Rank";
return"S Rank";
}

// ================= UI =================

function updateUI(){
level.textContent=data.level;
xp.textContent=data.xp;
rank.innerText=rank();

str.textContent=data.str;
int.textContent=data.int;
foc.textContent=data.foc;
streak.textContent=data.streak;

localStorage.arise=JSON.stringify(data);
}

// ================= XP SYSTEM =================

function gainXP(x){
data.xp+=x;

let need=data.level*100;

if(data.xp>=need){
data.xp-=need;
data.level++;
levelAnim();
notify("LEVEL UP!");
}

updateUI();
}

function levelAnim(){
levelUp.style.transform="translate(-50%,-50%) scale(1.4)";
setTimeout(()=>levelUp.style.transform="translate(-50%,-50%) scale(0)",900);
}

// ================= QUEST ENGINE =================

function makeQuest(name,obj,parent){

let div=document.createElement("div");

let title=document.createElement("h4");
title.innerText=name+" (+"+obj.xp+"xp)";

let time=obj.time;
let timer=document.createElement("p");
timer.innerText=format(time);

let inter=null;

let start=document.createElement("button");
start.innerText="Start";

let pause=document.createElement("button");
pause.innerText="Pause";

let done=document.createElement("button");
done.innerText="Done";

start.onclick=()=>{
if(inter)return;
inter=setInterval(()=>{
time--;
timer.innerText=format(time);

if(time<=0){
clearInterval(inter);
complete();
}
},1000);
};

pause.onclick=()=>{
clearInterval(inter);
inter=null;
};

done.onclick=complete;

function complete(){
clearInterval(inter);

gainXP(obj.xp);

if(obj.stat)data[obj.stat]+=1;

div.remove();
checkFinish();
}

div.append(title,timer,start,pause,done);
parent.appendChild(div);
}

// ================= LOAD QUESTS =================

function loadDaily(){
dailyDiv.innerHTML="";
for(let q in daily)
makeQuest(q,daily[q],dailyDiv);
}

function loadSpecial(){
specialDiv.innerHTML="";
for(let q in special)
if(data.level>=special[q].unlock)
makeQuest(q,special[q],specialDiv);
}

function loadPenalty(){
penaltyDiv.innerHTML="";
if(!data.missed)return;

for(let q in penalty)
makeQuest(q,penalty[q],penaltyDiv);
}

// ================= DAY CHECK =================

function checkDay(){

let today=new Date().toDateString();

if(data.lastDay!=today){

if(dailyDiv.children.length>0){
data.missed=true;
data.streak=0;
}else{
data.missed=false;
data.streak++;
}

data.lastDay=today;
}

}

function checkFinish(){
if(dailyDiv.children.length==0)
data.missed=false;
}

// ================= NOTIFICATION =================

function enableNotify(){
Notification.requestPermission();
}

function notify(msg){
if(Notification.permission==="granted")
new Notification("ARISE",{body:msg});
}

// ================= TIME FORMAT =================

function format(s){
let m=Math.floor(s/60);
let sec=s%60;
return m+":"+String(sec).padStart(2,"0");
}

// ================= INIT =================

const dailyDiv=document.getElementById("daily");
const specialDiv=document.getElementById("special");
const penaltyDiv=document.getElementById("penalty");

checkDay();
loadDaily();
loadSpecial();
loadPenalty();
updateUI();

</script>
</body>
</html>
